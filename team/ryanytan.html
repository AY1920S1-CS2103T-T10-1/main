<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>About Us - Ryan Tan Yu</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-3</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level4">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Jarvis</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-T10-1/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>About Us - Ryan Tan Yu</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Jarvis was developed by <a href="https://ay1920s1-cs2103t-t10-1.github.io/main/AboutUs.html">AY1920-CS2103T-T10-1</a>. We are a team based
in the <a href="http://www.comp.nus.edu.sg">School of Computing, National University of Singapore</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-portfolio-for-ryan-tan"><a class="link" href="#project-portfolio-for-ryan-tan">Project Portfolio for Ryan Tan</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="about-the-project"><a class="link" href="#about-the-project">About the Project</a></h3>
<div class="paragraph">
<p>My team of 5 students in a Software Engineering module, including myself, was
tasked with enhancing a program named <a href="https://se-education.org/addressbook-level3/">AddressBook</a>. AddressBook is
a basic desktop application that features a Command Line Interface (CLI)
style of input - meaning that a mouse need not be used for the application.</p>
</div>
<div class="paragraph">
<p>We chose to enhance AddressBook into a Student Lifestyle application named
<strong>Jarvis</strong>. Jarvis is meant to be able to manage many aspects of a regular
university student&#8217;s life - anywhere from finances to university course
planning.</p>
</div>
<div class="paragraph">
<p>Shown below is the UI of Jarvis, showing my feature:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ryanytan-JarvisUi.png" alt="ryanytan JarvisUi">
</div>
<div class="title">Figure 1. User Interface of Jarvis</div>
</div>
<div class="paragraph">
<p>My role in the development of Jarvis was the Course Planner feature. This
document illustrate the methods I&#8217;ve used to integrate this feature into
Jarvis, along with the challenges I have faced and how I have overcome them,
plus any other contributions I had in the entire project.</p>
</div>
<div class="paragraph">
<p>The link to the repository can be found <a href="https://ay1920s1-cs2103t-t10-1.github.io/main/AboutUs.html">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of Contributions</a></h3>
<div class="paragraph">
<p>This section shows a summary of coding, documentation, and other helpful
contributions to this team project. The link to the code I have contributed
can be found at <a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=ryanytan&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=true">this link</a>.</p>
</div>
<div class="sect3">
<h4 id="course-planner"><a class="link" href="#course-planner">Course Planner</a></h4>
<div class="paragraph">
<p>The feature I have provided within Jarvis is a <strong>Course Planner</strong> - using this
feature you are able to plan out, look up and check information about any
course currently offered within the National University of Singapore. This is
one of the big features (out of 4) of Jarvis.</p>
</div>
<div class="paragraph">
<p>Since Jarvis is an integrated system with the focus of a Student Lifestyle
tool targeted towards University students, streamlining course planning
was determined to be a natural feature that this application should provide.
The Course Planner allows an NUS student to keep track of their courses that
they have taken and the courses they are taking, so that they can make
more informed choices on the courses they wish to taken.</p>
</div>
<div class="paragraph">
<p>The implementation of this feature was not as simple as expected. This is
due to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Implementing a new <a href="https://en.wikipedia.org/wiki/Tree_(data_structure)">tree</a> data structure that I had not learnt
before in previous modules. Thus, research had to be done on how to
create this data structure. I eventually had to come up with my own
implementation using the new knowledge gained from my research.</p>
</li>
<li>
<p>Management of the large amount of data from University courses proved
challenging as many approaches could be taken to manage the data. This is
mainly in terms of the data&#8217;s storage and retrieval while the app was
running.</p>
<div class="paragraph">
<p>A poor solution could result in program freezes in the order of seconds, which
would be detrimental to the user experience. Eventually, a reasonable solution
to this problem of data storage and retrieval was reached after considering
many avenues, that was relatively neat and had good performance.</p>
</div>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="credits"><a class="link" href="#credits">Credits</a></h5>
<div class="ulist">
<ul>
<li>
<p><a href="https://api.nusmods.com/v2/">NUSMods API</a></p>
<div class="paragraph">
<p>Majority of the data used inside the Course Planner was downloaded directly
from NUSMods.</p>
</div>
</li>
<li>
<p><a href="https://github.com/FasterXML/jackson">Jackson JSON API</a></p>
<div class="paragraph">
<p>Processing of <code>.json</code> files were handled by the Jackson JSON API.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="other-contributions"><a class="link" href="#other-contributions">Other Contributions</a></h4>
<div class="paragraph">
<p>This sums up my contributes to the project that were not directly related to
my main feature - Course Planner.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Developer Guide</strong> <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/156">#156</a> <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/159">#159</a> <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/169">#169</a>
<a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/177">#177</a> <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/178">#178</a> <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/349">#349</a> <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/365">#365</a></p>
<div class="paragraph">
<p>I was in charge of the Developer Guide, and hence did most of the formatting,
editing and management of the document.</p>
</div>
</li>
<li>
<p><strong>Testability and Code Quality</strong></p>
<div class="ulist">
<ul>
<li>
<p>Refactored a <code>ModelStub</code> class that was being duplicated throughout the
codebase <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/131">#131</a></p>
<div class="paragraph">
<p><code>ModelStub</code> is a stub class used for testing. As we developed our
own features, any updates to <code>Model</code> had to be reflected in <code>ModelStub</code>. Since
we had five different features, each changing <code>Model</code>, we had to edit every
instance of <code>ModelStub</code> in the code. Eventually, it got very tiresome and
I removed all static inner-class instances and refactored it into its own
class for easier reuse.</p>
</div>
</li>
<li>
<p>Added additional compiler flags into our <code>gradle</code> build
<a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/108">#108</a>.</p>
<div class="paragraph">
<p>This was added as some of us had pushed code that was using deprecated API.
This change allowed the compiler to warn us if we were using deprecated API,
along with any warnings related to Java Generics.</p>
</div>
</li>
<li>
<p>Refactored <code>CliSyntax</code> <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/110">#110</a></p>
<div class="paragraph">
<p><code>CliSyntax</code> is a class used to indicate different inputs into a command. So, in
a command with the syntax <code>add n/NAME p/PHONE_NUMBER</code>, <code>n/</code> and <code>p/</code> are
considered "CLI Syntax". Our team faced an issue where we had to reuse
some syntax since similar ones thematically fit into our own individual
features. For easier referencing and to avoid clashes, the team lead asked me
to refactor the relevant constants into their own static classes for easy
importing.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>User Interface</strong></p>
<div class="ulist">
<ul>
<li>
<p>Implemented switching using <code>&lt;TAB&gt;</code> <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/193/commits/b8326f689ff2ad94354b3cb846a776619000e417">b832</a> <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/319/commits/4d9f595bf7495cc0d0ad6d9091cc07a9d5a54ecd">4d9f</a></p>
<div class="paragraph">
<p>Since Jarvis primarily uses the keyboard, I implemented tab-switching using
the keyboard with the <code>&lt;TAB&gt;</code> key, instead of having to either type a command
or use the mouse. I felt that this made the user experience more seamless and
in line with the target audience&#8217;s (fast typists used to a Command Line
Interface) preferences.</p>
</div>
</li>
<li>
<p>Implemented Command-Box highlighting</p>
<div class="paragraph">
<p>The colour scheme we had gone with in Jarvis did not allow us to highlight the
text of wrong commands without it looking unappealing. Thus, I made the UI
show a red highlighted box instead, as shown below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ryanytan-CommandBoxHighlight.png" alt="ryanytan CommandBoxHighlight">
</div>
<div class="title">Figure 2. Command Box Highlighting with Wrong Command</div>
</div>
</li>
<li>
<p>Implemented Styling for User Interface <a href="https://github.com/AY1920S1-CS2103T-T10-1/main/pull/330">#330</a></p>
<div class="paragraph">
<p>Along with the help of another team member who worked on the layout, I did
the styling seen in the application - such as the way the tabs look, the
colour scheme of individual components and general look and feel of the UI.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="contributions-to-user-guide"><a class="link" href="#contributions-to-user-guide">Contributions to User Guide</a></h4>
<div class="paragraph">
<p>We were put in charge of our own sections of the User Guide content while
another member had styled and verified the cohesiveness of the User Guide as a
whole. The following is my section of the User Guide:</p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="course-planner-2"><a class="link" href="#course-planner-2">Course Planner</a></h3>
<div class="paragraph">
<p>Unable to keep track of what modules you have been taking? Need to quickly
know what your CAP is? Want to know how far you are in determining your
focus areas? Jarvis has a feature just for you! The Course Planner serves to
solve these problems.</p>
</div>
<div class="paragraph">
<p>Thoroughly integrated with <a href="https://nusmods.com/"><strong>NUSMods</strong></a> (that we as NUS
students often use to plan our timetables) you will be able to consolidate all
the courses you have taken in NUS to date, as well as figure out what courses
you could possible take in the future.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see how the Course Planner looks like:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ug/CoursePlannerUI.png" alt="CoursePlannerUI">
</div>
<div class="title">Figure 3. GUI for the Course Planner</div>
</div>
<div class="paragraph">
<p> <br></p>
</div>
<div class="paragraph">
<p>The default display for the Course Planner is a list of courses on the left and
an empty Result Box on the right - as shown in Figure 12. This box will display
different pieces of information depending on the commands entered.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see what the Course Planner can do:</p>
</div>
<div class="sect3">
<h4 id="add-a-course-code-add-course-code"><a class="link" href="#add-a-course-code-add-course-code">Add a course: <code>add-course</code></a></h4>
<div class="paragraph">
<p>To get started, you can add specific course(s) to your list. Jarvis is able to
add multiple courses at one go.</p>
</div>
<div class="paragraph">
<p>Format: <code>add-course c/COURSECODE&#8230;&#8203;</code></p>
</div>
<div class="paragraph">
<p>where <code>COURSECODE</code> is the course code of the {nusmods-modules}[NUS course] you
wish to add.</p>
</div>
<div class="sect4">
<h5 id="example"><a class="link" href="#example">Example</a></h5>
<div class="listingblock">
<div class="content">
<pre>add-course c/CS1010
add-course c/CS1010 c/CS2030 c/CS2040</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="add-a-course-with-grades-code-add-course-code-v2-0"><a class="link" href="#add-a-course-with-grades-code-add-course-code-v2-0">Add a course with grades: <code>add-course</code> [v2.0]</a></h4>
<div class="paragraph">
<p>If you wish, you may add a course that has a grade attached to it. This is to
facilitate Jarvis' understanding of the courses you have already taken. Jarvis
will use such information in the calculation of your CAP (Cumulative Average
Point).</p>
</div>
<div class="paragraph">
<p>Format: <code>add-course c/COURSECODE g/GRADE [c/COURSECODE g/GRADE]&#8230;&#8203;</code></p>
</div>
<div class="paragraph">
<p>where <code>GRADE</code> is any
<a href="http://www.nus.edu.sg/registrar/education-at-nus/modular-system.html">valid NUS grade</a>.</p>
</div>
<div class="sect4">
<h5 id="example-2"><a class="link" href="#example-2">Example</a></h5>
<div class="listingblock">
<div class="content">
<pre>add-course c/CS1010 g/B+
add-course c/CS2040 g/A+ c/CS2100 g/B- c/MA1521 g/B+</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Every <code>GRADE</code> is tethered to the preceding <code>COURSECODE</code>, so the parameters to
this command must be entered in the specified order!
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="delete-a-course-code-delete-course-code"><a class="link" href="#delete-a-course-code-delete-course-code">Delete a course: <code>delete-course</code></a></h4>
<div class="paragraph">
<p>You can easily delete a course from your list - either by the index of the
course in the list, or by its course code.</p>
</div>
<div class="paragraph">
<p>Format: <code>delete-course {c/COURSECODE | INDEX}</code></p>
</div>
<div class="sect4">
<h5 id="example-3"><a class="link" href="#example-3">Example</a></h5>
<div class="listingblock">
<div class="content">
<pre>delete-course c/CS1010
delete-course 2</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="look-up-a-course-s-information-code-lookup-code"><a class="link" href="#look-up-a-course-s-information-code-lookup-code">Look up a course&#8217;s information: <code>lookup</code></a></h4>
<div class="paragraph">
<p>You can also retrieve information about a specific course - such as course
title, course code, number of credits and what the course is about. The
information will be displayed in the result box on the right of the Course
Planner, as shown below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ug/lookup.png" alt="lookup">
</div>
<div class="title">Figure 4. Display for lookup</div>
</div>
<div class="paragraph">
<p>Any information you will want to know about any course is shown within the
result box.</p>
</div>
<div class="paragraph">
<p> <br></p>
</div>
<div class="paragraph">
<p>Format: <code>lookup c/COURSECODE</code></p>
</div>
<div class="sect4">
<h5 id="example-4"><a class="link" href="#example-4">Example</a></h5>
<div class="listingblock">
<div class="content">
<pre>lookup c/CS1010</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="check-a-course-code-check-code"><a class="link" href="#check-a-course-code-check-code">Check a course: <code>check</code></a></h4>
<div class="paragraph">
<p>If you are not sure if you can take a certain course next semester, this
feature will come in handy. Simply <code>check</code> the course in question. The result
is dependent on the courses you have added to your list, and <code>Jarvis</code> will
display a very helpful tree similar to NUSMods to show you what requirements
you need for each course.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ug/check.png" alt="check">
</div>
<div class="title">Figure 5. Display for check</div>
</div>
<div class="paragraph">
<p>In this case, the user is unable to take the course <strong>ST23344</strong> as he
has not filled any of the requirements.</p>
</div>
<div class="paragraph">
<p> <br></p>
</div>
<div class="paragraph">
<p>Format: <code>check c/COURSECODE</code></p>
</div>
<div class="sect4">
<h5 id="example-5"><a class="link" href="#example-5">Example</a></h5>
<div class="listingblock">
<div class="content">
<pre>check c/CS1010</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="check-your-cap-code-cap-code-v2-0"><a class="link" href="#check-your-cap-code-cap-code-v2-0">Check your CAP: <code>cap</code> [v2.0]</a></h4>
<div class="paragraph">
<p>If you wish to check your current CAP (Cumulative Average Point), you can do
so with the command <code>cap</code>. Jarvis assumes that any course that does not have
a grade attached to it in your list have not, or are currently being taken
and will not be counted towards you CAP.</p>
</div>
<div class="paragraph">
<p>Information on the CAP system can be found
<a href="http://www.nus.edu.sg/registrar/education-at-nus/modular-system.html">here</a>.</p>
</div>
<div class="paragraph">
<p>Format: <code>cap</code></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="contributions-to-developer-guide"><a class="link" href="#contributions-to-developer-guide">Contributions to Developer Guide</a></h4>
<div class="paragraph">
<p>As stated above, after the assigning of roles amongst the team, I was put
in charge of the Developer Guide. While each person wrote their own sections,
I was to audit them to ensure that they conformed to the specified format so
as to give the document structure and cohesion.</p>
</div>
<div class="sect4">
<h5 id="plantuml"><a class="link" href="#plantuml">PlantUML</a></h5>
<div class="paragraph">
<p>I was initially in charge of drawing diagrams using PlantUML. This was
handed over to another person further along the project. These are some of the
diagrams I drew:</p>
</div>
</div>
<div class="sect4">
<h5 id="course-planner-section"><a class="link" href="#course-planner-section">Course Planner Section</a></h5>
<div class="paragraph">
<p>The following is an excerpt for my own section of the Developer Guide.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="course-planner-feature"><a class="link" href="#course-planner-feature">Course Planner feature</a></h3>
<div class="sect3">
<h4 id="overview"><a class="link" href="#overview">Overview</a></h4>
<div class="paragraph">
<p>The Course Planner feature allows the user to track what courses they</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Have taken</p>
</li>
<li>
<p>Are taking, and</p>
</li>
<li>
<p>Want to take</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The feature offers updated information on courses offered by NUS, along with
convenient add, delete and check operations on the user&#8217;s course list.</p>
</div>
</div>
<div class="sect3">
<h4 id="the-course-planner-model"><a class="link" href="#the-course-planner-model">The Course Planner Model</a></h4>
<div class="paragraph">
<p>The <code>CoursePlanner</code> class within the model provides an interface between the
components of the feature and the updating of the overall model. Like other
features, <code>Model</code> is associated with the course planner feature via
implementing <code>CoursePlannerModel</code>, from which <code>Model</code> implements.</p>
</div>
<div class="paragraph">
<p>Some of the more interesting methods (i.e not simple accessor and mutator
methods) within <code>CoursePlanner</code> are shown below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Model#addCourse(Course)</code> - Adds a course to the user&#8217;s list</p>
</li>
<li>
<p><code>Model#deleteCourse(Course)</code> - Deletes the course from the user&#8217;s list</p>
</li>
<li>
<p><code>Model#lookUpCourse(Course)</code> - Looks up information about the given course</p>
</li>
<li>
<p><code>Model#checkCourse(Course)</code> - Checks if the user can take this course</p>
</li>
<li>
<p><code>Model#hasCourse(Course)</code> - Checks if the given course exists in the user&#8217;s
list</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The list of courses of the user is stored internally using a <code>UniqueCourseList</code>
object, providing an abstraction with <code>add</code> and <code>delete</code> operations that
are called by <code>CoursePlanner</code> and its model.</p>
</div>
<div class="paragraph">
<p>The text that is displayed to the user within the UI showing information about
the Course Planner is abstracted within the course text display. This is a
simple class that uses <code>Observable</code> to track changes to it as the program runs.
The class abstracts some operations on this string such as setting, getting,
printing to a displayable form, etc.</p>
</div>
<div class="paragraph">
<p>Shown below is the Class diagram for the Course Planner.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ModelCoursePlannerClassDiagram.png" alt="ModelCoursePlannerClassDiagram">
</div>
<div class="title">Figure 6. Course Model Class Diagram</div>
</div>
<div class="paragraph">
<p>Every <code>Course</code> has a few non-nullable attributes - <code>Title</code>, <code>CourseCode</code>,
<code>CourseCredit</code>, <code>Faculty</code> and <code>Description</code>. The other three (<code>PrereqTree</code>,
<code>Preclusion</code> and <code>FulfillRequirements</code>) are not required to exist as it
depends on the course&#8217;s data.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p>As explained above, the <code>CoursePlanner</code> is implemented by <code>Model</code> and follows
much of the extendable OOP solution implemented within Jarvis that is common
to the other features.</p>
</div>
<div class="paragraph">
<p>This section will discuss about the individual components that were created
for this feature, the alternative Software Engineering design choices for each
one, and our thought process of the eventual choices made for each component.</p>
</div>
<div class="sect4">
<h5 id="course-datasets"><a class="link" href="#course-datasets">Course Datasets</a></h5>
<div class="paragraph">
<p>Course data-sets are taken directly from the {nus-mods-api}[NUSMods API]. These
data-sets are stored using the <code>.json</code> file format on NUSMod&#8217;s API. Since
Jarvis already heavily uses the Jackson JSON API, we have opted to store all
course data within Jarvis in their original form. Therefore, all data is read
directly from <code>.json</code> files.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
NUSMods is a popular website officially affiliated with NUS, where
students are able to look up information about courses and plan their school
timetable. This makes its data-set a reliable source of course information.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each course, and their data, are given its own file. These files are laid out
in <code>/modinfo</code> within <code>/resources</code> to be easily accessible by the program.</p>
</div>
<div class="paragraph">
<p>A sample, valid <code>AB1234.json</code> is given below for a fictional course <code>AB1234</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "courseCode": "AB1234",
    "courseCredit": "4",]
    "description": "Course description for AB1234.",
    "faculty": "A Faculty in NUS",
    "fulfillRequirements": [ "AB2234" ],
    "preclusion": "AB1231, AB1232",
    "prereqTree": {
        "and": [
            {
                "or": [
                    "CD1111",
                    "XY2222"
                ]
            },
            "EF3333"
        ]
    },
    "title": "Course AB1234's title"
}</pre>
</div>
</div>
<div class="paragraph">
<p>As explained above, certain attributes of a <code>Course</code> are non-nullable. This
choice was made due to the actual course datasets -</p>
</div>
<div class="paragraph">
<p>This also means that every semester, all datasets must be pre-processed before
being deployed into the application. It is quite simple to create a script to do
the pre-processing, and is such a good trade-off as opposed to manually
checking every field when pulling data from a course file.</p>
</div>
<div class="sect5">
<h6 id="storing-of-course-datasets"><a class="link" href="#storing-of-course-datasets">Storing of Course Datasets</a></h6>
<div class="paragraph">
<p>A decision we had to make concerned the way we would store the data to be
referenced on runtime. Considering the multiple options, two stood out as
being the most feasible within Jarvis.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Option 1: Storing every course in a single, large JSON file</strong></p>
<div class="paragraph">
<p>This makes file handling easier to manage. Every course can be found in single
file and the code need not deal with many <code>FileNotFoundException</code> or
<code>IOException</code> upon lookup, as the file is guaranteed to exist.</p>
</div>
<div class="paragraph">
<p>The trade-off is that a large file will be difficult to view for a developer.
It will also have slow performance as the entire file would have to be
processed to look up one course.</p>
</div>
<div class="paragraph">
<p>The developer may also:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Store the whole file in a buffer for faster lookup, but this may be
time-consuming and troublesome to implement, especially due to the memory
consumption, or:</p>
</li>
<li>
<p>Process the whole file and create all <code>Course</code> objects upon start-up.
However, due to the large number of course files (11000+), this may also
have significant memory overhead.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Option 2: Storing each course as its own file</strong></p>
<div class="paragraph">
<p>This allows for fast lookup as the contents of all 11000+ course files of data
do not need to be scanned directly. Fast string concatenation of file paths
directly to the relevant <code>.json</code> file can be used instead.</p>
</div>
<div class="paragraph">
<p>Unfortunately, this also makes the data-set difficult to manage. If we want
to modify the data-set in any way, a script will have to be written to process
every file in the data-set. Additionally, every lookup must deal with
file-related exceptions.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="our-thoughts"><a class="link" href="#our-thoughts">Our Thoughts</a></h6>
<div class="paragraph">
<p>We decided to go with Option 2, as once the files were downloaded and
processed, there was no need to modify them any further. Processing, or loading
inside a buffer, of very large text files are likely to significantly hamper
performance for little benefit. Manual lookup information about a specific
course during development is also much easier with such a method.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="and-or-tree"><a class="link" href="#and-or-tree">And-Or Tree</a></h5>
<div class="paragraph">
<p>The <code>AndOrTree&lt;R&gt;</code> is a tree data structure served by the <code>util/andor</code> package
that provides an abstraction for processing the prerequisite tree.  The
prerequisite tree (henceforth referred to as <code>prereqTree</code>) is an attribute of a
<code>Course</code> that is available in the NUSMod&#8217;s course data-set, the data comes in
the form of a <code>String</code> and will be covered shortly.</p>
</div>
<div class="paragraph">
<p>Before covering the tree itself, it would be helpful to cover its building
blocks.</p>
</div>
<div class="sect5">
<h6 id="the-code-andornode-code-class"><a class="link" href="#the-code-andornode-code-class">The <code>AndOrNode</code> Class</a></h6>
<div class="paragraph">
<p>Each node in the tree of type <code>R</code> is represented by an <code>AndOrNode&lt;R&gt;</code>. Every
node has a <code>List&lt;AndOrNode&lt;R&gt;&gt;</code>, to be used in checking the truth condition
of the tree, and every node is either an <code>AndNode</code>, <code>OrNode</code> or <code>DataNode</code>
node. This determines the conditional used to check the truth condition of a
node.</p>
</div>
<div class="paragraph">
<p>The truth condition of a node is determined using the method:
<code>boolean fulfills(Collection&lt;R&gt;)</code>. This checks the truth condition of the node
based on the following predicates:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The node is an <code>AndNode</code></p>
<div class="paragraph">
<p>Any subset of elements in <code>Collection&lt;R&gt;</code> must match all children of this
node.</p>
</div>
</li>
<li>
<p>The node is an <code>OrNode</code></p>
<div class="paragraph">
<p>Any element in <code>Collection&lt;R&gt;</code> must match at least one of the children of this
node.</p>
</div>
</li>
<li>
<p>The node is a <code>DataNode</code></p>
<div class="paragraph">
<p>Any element in <code>Collection&lt;R&gt;</code> must match the data stored in this node.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>So, an <code>AndNode&lt;String&gt;</code> with children <code>{"1", "2", "3"}</code> will match <code>true</code>
against a collection of <code>{"1", "2", "3", "4"}</code> and <code>false</code> against a collection
of <code>{"2", "3"}</code>.</p>
</div>
</div>
<div class="sect5">
<h6 id="node-creation"><a class="link" href="#node-creation">Node Creation</a></h6>
<div class="paragraph">
<p>The following class diagram demonstrates the structure of the <code>abstract class</code>
<code>AndOrNode</code> and its sub-classes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ryanytan-AndOrNodeInheritanceClassDiagram.png" alt="800" width="600">
</div>
<div class="title">Figure 7. AndOrNode Inheritance Diagram</div>
</div>
<div class="paragraph">
<p>Using this format, a static method of the form <code>AndOrNode#createNode(T,String)</code>
is able to construct all instances of its sub-class, thus the caller will not
need to know of the different type of nodes.</p>
</div>
</div>
<div class="sect5">
<h6 id="the-code-andortree-code-class"><a class="link" href="#the-code-andortree-code-class">The <code>AndOrTree</code> Class</a></h6>
<div class="paragraph">
<p>The following are <code>public</code> methods in <code>AndOrTree</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>buildTree(String, Function&lt;String, ? extends R&gt;)</code></p>
<div class="paragraph">
<p>Builds a tree from the given jsonString. <code>Function</code> is a mapper that processes
a <code>String</code> and returns a value of type <code>R</code>, where <code>R</code> is the type of data
stored by each node in the tree.</p>
</div>
</li>
<li>
<p><code>fulfills(Collection&lt;R&gt;)</code></p>
<div class="paragraph">
<p>Checks if the given <code>Collection</code> of type <code>R</code> fulfills the condition specified
by this tree. <code>AndOrNode</code> has its own corresponding <code>fulfill</code> that checks its
children or data against <code>Collection</code>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Due to the arbitrary ordering of the tree, <code>insert()</code> and <code>delete()</code> operations
commonly found in implementations of ordered trees are difficult to implement.
Instead, the tree is fully created upon the call to <code>buildTree()</code> and is then
enforced to be immutable once built. This is reflected in the class' lack of
mutator methods.</p>
</div>
</div>
<div class="sect5">
<h6 id="building-of-the-code-andortree-code"><a class="link" href="#building-of-the-code-andortree-code">Building of the <code>AndOrTree</code></a></h6>
<div class="paragraph">
<p>As mentioned above, we use the <code>prereqTree</code> attribute in order to build the
tree. An example of a processable json string is as such:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"prereqTree": {
    "and": [
        {
            "or": [
                "CD1111",
                "XY2222"
            ]
        },
        "EF3333"
    ]
}</pre>
</div>
</div>
<div class="paragraph">
<p>This can be read as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>To take AB1234, you require...
 |
 └ all of
   ├── one of
   |   ├─ "CD1111"
   |   └─ "XY2222"
   └─ "EF3333"</pre>
</div>
</div>
<div class="paragraph">
<p>This means that to take the fictional course <code>AB1234</code>, a user would have to
complete <code>EF3333</code>, <strong>and</strong> either <code>CD1111</code> or <code>XY2222</code>.</p>
</div>
<div class="paragraph">
<p>The <code>buildTree()</code> method takes in the <code>json</code> string as an input. The Jackson
API uses this string to create a root <code>JsonNode</code> object, and the tree is built
recursively from the root. The sequence diagram of the tree building process is
shown below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ryanytan-AndOrSequenceDiagramSimplified.png" alt="ryanytan AndOrSequenceDiagramSimplified">
</div>
<div class="title">Figure 8. buildTree() Sequence Diagram</div>
</div>
<div class="paragraph">
<p>The class looks at each node - checks if its is an <code>Object</code>, <code>Array</code> or a
<code>String</code>, and does the appropriate actions and function calls.</p>
</div>
<div class="paragraph">
<p>Other ways of building the tree can be easily extended by overloading the
<code>buildTree</code> method. However, this will not override the immutable properties of
the tree.</p>
</div>
</div>
<div class="sect5">
<h6 id="dependency-on-course"><a class="link" href="#dependency-on-course">Dependency on Course</a></h6>
<div class="paragraph">
<p><code>AndOrTree</code> posed some difficulty for us, in the decision to couple the
implementation of <code>AndOrTree</code> with <code>Course</code>. This is because the tree will
only ever be used by the Course Planner within the program, and thus it is
not required to implement the tree using generics. However, this would increase
coupling between <code>AndOrTree</code> and <code>Course</code>, which is unfavourable for testing.</p>
</div>
<div class="paragraph">
<p>Below are our considerations in implementing this data structure:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Option 1: Couple <code>AndOrTree</code> to <code>Course</code></strong></p>
<div class="paragraph">
<p>This means that there is no need to pass any mapper function into the
<code>buildTree()</code> method as the class does not need to know how to map from <code>String</code>
to <code>R</code>. This also makes handling mapping exceptions easier as they can be
handled directly by <code>Course</code> instead of by <code>AndOrTree</code>.</p>
</div>
<div class="paragraph">
<p>However, this increases coupling between the tree and <code>Course</code>, resulting in
the correctness of the <code>AndOrTree</code> class being dependent on <code>Course</code> as there
is no way to stub it. The tree will also only be locked to <code>Course</code> and is
non-extendable.</p>
</div>
</li>
<li>
<p><strong>Option 2: Using Generics</strong></p>
<div class="paragraph">
<p>This makes the tree reusable in the future. The tree will also
be able to store any data-type which allows for easier unit testing, since
it won&#8217;t be dependent on the correctness of <code>Course</code>. Instead well-tested
libraries such as Java&#8217;s <code>String</code> API can be used to test the class instead.</p>
</div>
<div class="paragraph">
<p>However, due to how the tree is built (i.e from a json string), a
mapper function must be passed into the <code>buildTree()</code> method to process
the string in each node to the generic type of the tree. The function is of
the type <code>Function&lt;String, ? extends R&gt;</code>, for a tree of type <code>R</code>.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="our-thoughts-2"><a class="link" href="#our-thoughts-2">Our Thoughts</a></h6>
<div class="paragraph">
<p>Due to its benefits far outweighing its disadvantages, we picked the second
choice of using generics. While extendability and re-usability of the class is
a nice bonus, the decrease in coupling and increase in testability was the
deciding factor in choosing between these two approaches. Furthermore, behavior
of the building of the tree can be easily extended by either inheritance, or
overloading of the <code>buildTree()</code> method.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p>With the significant individual components covered, the process of the
Course Planner can be discussed. We will be covering the <code>check</code> command
since the rest of the commands are either simple insert and delete operations
on a list, or retrieving data from a file. This command allows us to see the
full extent of back-end to front-end operations on the Course Planner.</p>
</div>
<div class="paragraph">
<p>The <code>check</code> operation allows users to check if they are able to take a certain
course. Whether the user can take the course depends on the courses in their
list. The following is the activity diagram of general overview of the process
when the user types a <code>check</code> command.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ryanytan-CheckActivityDiagram.png" alt="TODO">
</div>
<div class="title">Figure 9. Check Command Activity Diagram</div>
</div>
<div class="paragraph">
<p>Additionally, the following below shows the sequence diagram of how the
program checks if the user satisfies the course&#8217;s prerequisites.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ryanytan-CheckCommandSequenceDiagram.png" alt="ryanytan CheckCommandSequenceDiagram">
</div>
<div class="title">Figure 10. CheckCommand Sequence Diagram</div>
</div>
<hr>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 09:31:11 UTC</div></div></div></body></html>